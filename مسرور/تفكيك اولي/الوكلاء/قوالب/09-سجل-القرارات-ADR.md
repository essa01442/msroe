# سجل قرارات الوكيل (ADRs)

يسجّل هذا الملف القرارات المعمارية والمنتجية المهمة، بهدف التتبّع والمرجعية والتعلّم المؤسسي.

## فهرس ADRs
- ADR-001: سياسة النسخ الاحتياطي واستعادة الكوارث — Approved — 2025-09-10 — [رابط داخلي](#adr-001)
- ADR-002: اعتماد Circuit Breaker للتبعيات الخارجية — Approved — 2025-09-12 — [رابط داخلي](#adr-002)

---

### ADR-Template
- المعرف: ADR-XXX
- العنوان: …
- الحالة: Proposed | Approved | Deprecated | Superseded
- التاريخ: YYYY-MM-DD
- أصحاب المصلحة: …
- السياق:
  - المشكلة/الاحتياج
  - القيود/الافتراضات
  - البدائل المدروسة
- القرار:
  - القرار المختار
  - لماذا الآن
- العواقب:
  - إيجابيات
  - سلبيات
  - تأثير على الفرق/المستخدمين
- الربط:
  - ADRs ذات صلة
  - وثائق أو مخططات
- خطة التنفيذ:
  - الخطوات، نقاط التحكم، القياسات، التراجعات
- حالة التتبع:
  - Tasks/Issues ذات صلة وروابطها

---

### ADR-001
- الحالة: Approved
- التاريخ: 2025-09-10
- العنوان: سياسة النسخ الاحتياطي واستعادة الكوارث
- أصحاب المصلحة: المنصّة، البيانات، الأمن
- السياق:
  - البيانات حرجة وتتطلب RPO ≤ 15 دقيقة وRTO ≤ 60 دقيقة.
- القرار:
  - أخذ لقطات قواعد البيانات كل 15 دقيقة مع تخزين مشفّر متعدد الأقاليم.
  - اختبارات استعادة شهرية مُؤتمتة مع تقرير نجاح ≥ 99%.
- العواقب:
  - إيجابي: انخفاض خطر فقدان البيانات.
  - سلبي: تكاليف تخزين إضافية.
- الربط: مخطط DR، سجل المخاطر R-002، R-004.
- خطة التنفيذ: أتمتة جداول النسخ، مراقبة، تنبيهات فشل، Runbook استعادة.
- حالة التتبع: مهام تنفيذ ببورد العمليات.

---

### ADR-002
- الحالة: Approved
- التاريخ: 2025-09-12
- العنوان: اعتماد Circuit Breaker للتبعيات الخارجية
- أصحاب المصلحة: المنصّة، المنتج
- السياق:
  - التبعيات الخارجية قد تتعطل أو تتدهور دون إنذار.
- القرار:
  - Circuit Breaker بنوافذ مراقبة، مع إستراتيجية Retry بتراجع مُتزايد وJitter.
- العواقب:
  - إيجابي: عزل الأعطال وتقليل الانهيارات المتسلسلة.
  - سلبي: تعقيد إضافي في المسارات.
- الربط: سجل المخاطر R-002، Runbooks الطوارئ.
- خطة التنفيذ: مكتبة موحّدة، حدود لكل تبعية، مراقبة أعلام الفتح/الإغلاق.
- حالة التتبع: تتبع عبر لوحات SRE.